# ============================================
# VIKTORIA WERTHEIM ENVIRONMENT CONFIGURATION
# ============================================
# 
# This is the TEMPLATE for environment variables.
# Copy this file to .env and fill in your values.
#
# NEVER commit .env files to Git!
# 
# Environment Hierarchy:
# 1. .env.template - Template with all variables (committed)
# 2. .env - Local development values (gitignored)
# 3. GitHub Secrets - Production values
#
# ============================================

# ============================================
# CORE CONFIGURATION
# ============================================

# Environment: development | staging | production
NODE_ENV=development
APP_ENV=development

# Application URL (no trailing slash)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ============================================
# DATABASE CONFIGURATION
# ============================================

# PostgreSQL
POSTGRES_HOST=db
POSTGRES_PORT=5432
POSTGRES_DB=postgres
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_password_here

# Database URL (constructed from above)
DATABASE_URL=postgres://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# ============================================
# SUPABASE CONFIGURATION
# ============================================

# JWT Secret (minimum 32 characters)
# Generate with: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-token-with-at-least-32-characters

# JWT Token Expiry
JWT_EXPIRY=3600

# Supabase URLs
SUPABASE_URL=http://kong:8000
API_EXTERNAL_URL=http://localhost:8000
NEXT_PUBLIC_SUPABASE_URL=http://localhost:8000

# Supabase Keys (generated from JWT_SECRET)
# Generate with: node scripts/generate-jwt-keys.js
ANON_KEY=your_anon_key_here
SERVICE_ROLE_KEY=your_service_role_key_here
NEXT_PUBLIC_SUPABASE_ANON_KEY=${ANON_KEY}
SUPABASE_SERVICE_ROLE_KEY=${SERVICE_ROLE_KEY}

# ============================================
# SUPABASE SERVICES CONFIGURATION
# ============================================

# Auth Service
SITE_URL=http://localhost:3000
ADDITIONAL_REDIRECT_URLS=
DISABLE_SIGNUP=false
ENABLE_EMAIL_SIGNUP=true
ENABLE_EMAIL_AUTOCONFIRM=false
ENABLE_PHONE_SIGNUP=false
ENABLE_PHONE_AUTOCONFIRM=false
ENABLE_ANONYMOUS_USERS=false

# Mailer URLs
MAILER_URLPATHS_INVITE=/auth/invite
MAILER_URLPATHS_CONFIRMATION=/auth/confirm
MAILER_URLPATHS_RECOVERY=/auth/recovery
MAILER_URLPATHS_EMAIL_CHANGE=/auth/email-change

# Studio
STUDIO_DEFAULT_ORGANIZATION=Viktoria Wertheim
STUDIO_DEFAULT_PROJECT=Viktoria Wertheim Website
DASHBOARD_USERNAME=admin
DASHBOARD_PASSWORD=your_dashboard_password_here

# Storage
STORAGE_BACKEND=file
FILE_SIZE_LIMIT=52428800
IMGPROXY_ENABLE_WEBP_DETECTION=true

# Analytics
ENABLE_ANALYTICS=false
LOGFLARE_PRIVATE_ACCESS_TOKEN=your_logflare_token_here
NEXT_ANALYTICS_BACKEND_PROVIDER=postgres

# Kong API Gateway
KONG_HTTP_PORT=8000
KONG_HTTPS_PORT=8443

# PostgREST
PGRST_DB_SCHEMAS=public,auth,storage
PGRST_DB_ANON_ROLE=anon
PGRST_DB_USE_LEGACY_GUCS=false

# ============================================
# EMAIL CONFIGURATION (Contact Form)
# ============================================

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_specific_password
SMTP_SENDER_NAME=SV Viktoria Wertheim
SMTP_ADMIN_EMAIL=admin@viktoria-wertheim.de

# Nodemailer (Next.js API)
EMAIL_HOST=${SMTP_HOST}
EMAIL_PORT=${SMTP_PORT}
EMAIL_USER=${SMTP_USER}
EMAIL_PASS=${SMTP_PASS}

# ============================================
# ADMIN CONFIGURATION
# ============================================

# Comma-separated list of admin emails
ADMIN_EMAILS=admin@viktoria-wertheim.de

# ============================================
# EXTERNAL SERVICES (Optional)
# ============================================

# OpenAI (for Supabase AI features)
OPENAI_API_KEY=

# Google Analytics
NEXT_PUBLIC_GA_TRACKING_ID=

# Sentry Error Tracking
NEXT_PUBLIC_SENTRY_DSN=
SENTRY_AUTH_TOKEN=

# ============================================
# DEVELOPMENT TOOLS
# ============================================

# Enable debug mode
DEBUG=false

# Verbose logging
VERBOSE_LOGGING=false

# ============================================
# DOCKER CONFIGURATION
# ============================================

# Container names (for docker-compose)
DB_CONTAINER=supabase-db
STUDIO_CONTAINER=supabase-studio
KONG_CONTAINER=supabase-kong